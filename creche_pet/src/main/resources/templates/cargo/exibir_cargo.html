<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Painel Administrativo - Lar dos Pets</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <link href="../css/exibir.css" rel="stylesheet">

 
</head>

	<body>
	  <div th:insert="~{layout/header}"></div>

	  <main >
		<div th:replace="layout/mensagens :: mensagens"></div>
						
						
		
	    <div class="d-flex justify-content-between align-items-center mb-4">
	      <h2>Cargos</h2>
	      <a th:href="@{/cadastrar_cargo}" class="btn btn-success">Novo Cargo</a>
	    </div>

		<div class="mb-4">
		      <input type="text" class="form-control" placeholder="Pesquisar por Função..." id="searchInput" onkeyup="searchTable()" />
		    </div>

	    <!-- Tabela dinâmica -->
		<div th:unless="${#lists.isEmpty(cargos)}">
	    <div class="table-responsive">
	      <table class="table table-bordered table-hover" id="cargosTable">
	        <thead class="table-light">
	          <tr>
	           
	            <th>Função</th>
	            <th>Salário</th>
	            <th>Ações</th>
	          </tr>
	        </thead>
	        <tbody>         			

	          <tr th:each="c: ${cargos}">
	            <td th:text="${c.funcao}"></td>
	            <td th:text="${c.salario}"></td>
	            <td>
					<a th:href="@{/cargo/editar/{id}(id=${c.idCargo})}" class="btn btn-primary">Editar</a>
				
					<a th:href="@{/cargo/excluir/{id}(id=${c.idCargo})}" class="btn btn-danger">Excluir</a>
					
					</td>
	         
	          </tr>
	        </tbody>
	      </table>
	    </div>
	  </main>

	

  <div th:insert="~{layout/footer}"></div>

  <!-- Bootstrap e JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  


  <!-- Script de busca -->
    <script>
      function searchTable() {
        const input = document.getElementById("searchInput").value.toLowerCase().trim();
        const rows = document.querySelectorAll("#cargosTable tbody tr");

        rows.forEach(row => {
          const funcao = row.cells[0].textContent.toLowerCase();
          row.style.display = funcao.includes(input) ? "" : "none";
        });
      }
    </script>
  
 
  


</body>
</html>

